/* ================================
   Mobile GNB (Global Navigation Bar) Styles
   Glass morphism + 기존 디자인 시스템 일관성
   ================================ */

/* === Fixed Header Bar === */
.mobileHeader {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: calc(52px + env(safe-area-inset-top));
  padding-top: env(safe-area-inset-top);
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-bottom: 1px solid rgba(232, 232, 232, 0.8);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding-left: 16px;
  padding-right: 16px;
  z-index: 1000;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

/* === Header Left (Logo) === */
.headerLeft {
  display: flex;
  align-items: center;
  cursor: pointer;
  flex-shrink: 0;
}

/* === Hamburger Button === */
.hamburgerBtn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 44px;
  height: 44px;
  border: none;
  background: transparent;
  cursor: pointer;
  border-radius: 8px;
  transition: background 0.2s;
  color: #5F5F5F;
}

.hamburgerBtn:hover {
  background: rgba(255, 107, 53, 0.1);
}

.hamburgerBtn:active {
  background: rgba(255, 107, 53, 0.2);
}

.menuIcon {
  width: 20px;
  height: 20px;
}

/* === Header Center (Title) === */
.headerCenter {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
}

.headerTitle {
  font-size: 16px;
  font-weight: 700;
  color: #212121;
  letter-spacing: -0.3px;
}

.logo {
  height: 22px;
  width: auto;
}

/* === Header Right (Notification + Avatar) === */
.headerRight {
  display: flex;
  align-items: center;
  gap: 12px;
}

.notificationBell {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 44px;
  height: 44px;
  border: none;
  background: transparent;
  cursor: pointer;
  border-radius: 8px;
  transition: background 0.2s;
  color: #9E9E9E;
}

.notificationBell:hover {
  background: rgba(255, 107, 53, 0.1);
}

.notificationBadge {
  position: absolute;
  top: 6px;
  right: 6px;
  background: var(--color-primary);
  color: #fff;
  font-size: 8px;
  font-weight: 600;
  min-width: 14px;
  height: 14px;
  border-radius: 7px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 4px;
}

.userAvatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: #FFE5D0;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  border: none;
  padding: 0;
  cursor: pointer;
  flex-shrink: 0;
}

.avatarImage {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 50%;
}

/* === Menu Overlay (Backdrop) === */
.menuOverlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(255, 255, 255, 1);
  z-index: 1100;
  animation: overlayFadeIn 0.25s ease-out;
}

@keyframes overlayFadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* === Menu Slider (Fullscreen) === */
.menuSlider {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  max-width: 100vw;
  background: #FFFFFF;
  display: flex;
  flex-direction: column;
  opacity: 0;
  transform: translateY(-10px);
  transition: opacity 0.25s ease, transform 0.25s ease;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  /* 스크롤바 숨기기 */
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.menuSlider::-webkit-scrollbar {
  display: none;
}

.menuSliderOpen {
  opacity: 1;
  transform: translateY(0);
}

/* === Menu Header === */
.menuHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px;
  padding-top: calc(16px + env(safe-area-inset-top));
  border-bottom: 1px solid #E8E8E8;
  background: #FFFFFF;
  min-height: 56px;
}

.menuLogo {
  cursor: pointer;
  display: flex;
  align-items: center;
}

.menuLogo img {
  height: 22px;
  width: auto;
}

.closeBtn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 44px;
  height: 44px;
  border: none;
  background: transparent;
  cursor: pointer;
  border-radius: 8px;
  transition: background 0.2s;
  color: #5F5F5F;
}

.closeBtn svg {
  width: 32px;
  height: 32px;
}

.closeBtn:hover {
  background: rgba(255, 107, 53, 0.1);
}

.closeBtn:active {
  background: rgba(255, 107, 53, 0.2);
}

/* === Profile Section === */
.profileSection {
  display: flex;
  align-items: center;
  gap: 14px;
  padding: 20px 16px;
}

.profileAvatar {
  width: 52px;
  height: 52px;
  border-radius: 50%;
  background: #FFE5D0;
  overflow: hidden;
  flex-shrink: 0;
}

.profileAvatarImage {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.profileInfo {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.profileName {
  font-size: 16px;
  font-weight: 700;
  color: #212121;
}

.profileRole {
  font-size: 13px;
  font-weight: 500;
  color: #9E9E9E;
}

.menuDivider {
  height: 1px;
  background: #E8E8E8;
  margin: 0 16px;
}

/* === Menu Content === */
.menuContent {
  padding: 16px 16px 20px 16px;
  flex: 1;
}

/* === Home Menu === */
.homeMenu {
  font-size: 13px;
  font-weight: 700;
  color: #212121;
  padding: 10px 8px;
  margin-bottom: 8px;
  cursor: pointer;
  transition: color 0.2s, background 0.2s;
  border-radius: 6px;
  min-height: 40px;
  display: flex;
  align-items: center;
}

.homeMenu:hover {
  color: var(--color-primary);
  background: rgba(255, 107, 53, 0.05);
}

.homeMenu.active {
  color: var(--color-primary);
  background: rgba(255, 107, 53, 0.1);
}

/* === Section === */
.section {
  margin-bottom: 8px;
}

/* === Main Item === */
.mainItem {
  font-size: 13px;
  font-weight: 500;
  color: #5F5F5F;
  padding: 10px 8px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  cursor: pointer;
  transition: color 0.2s, background 0.2s;
  border-radius: 6px;
  min-height: 40px;
}

.mainItem:hover {
  color: var(--color-primary);
  background: rgba(255, 107, 53, 0.05);
  font-weight: 600;
}

.moduleTitle {
  font-weight: 600;
  color: #212121;
}

.mainItem.active,
.moduleTitle.active {
  color: var(--color-primary);
  background: transparent;
}

/* === Submenu === */
.submenu {
  margin-top: 6px;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

/* === Sub Item === */
.subItem {
  font-size: 12px;
  font-weight: 500;
  color: #9E9E9E;
  padding: 8px 16px;
  cursor: pointer;
  transition: color 0.2s, background 0.2s;
  border-radius: 6px;
  min-height: 36px;
  display: flex;
  align-items: center;
}

.subItem:hover {
  color: var(--color-primary);
  background: rgba(255, 107, 53, 0.05);
  font-weight: 600;
}

.subItem.active {
  color: var(--color-primary);
  background: rgba(255, 107, 53, 0.1);
  font-weight: 600;
}

/* === Action Button (기안하기) === */
.actionBtn {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 12px;
}

.actionBtn:hover {
  background: rgba(255, 107, 53, 0.1);
  color: var(--color-primary);
  font-weight: 600;
}

.iconPopup {
  width: 10px;
  height: 10px;
  opacity: 0.6;
  transition: opacity 0.15s;
}

.actionBtn:hover .iconPopup {
  opacity: 1;
  filter: brightness(0) saturate(100%) invert(50%) sepia(98%) saturate(1393%) hue-rotate(343deg) brightness(101%) contrast(101%);
}

/* === Expandable === */
.expandable {
  display: flex;
  align-items: center;
  justify-content: space-between;
  cursor: pointer;
}

.arrow {
  display: flex;
  align-items: center;
  justify-content: center;
  transition: transform 0.2s;
  width: 10px;
  height: auto;
}

.expandable:hover .arrow {
  filter: brightness(0) saturate(100%) invert(50%) sepia(98%) saturate(1393%) hue-rotate(343deg) brightness(101%) contrast(101%);
}

.expandable.expanded {
  font-weight: 600;
  color: var(--color-primary);
}

.expandable.expanded .arrow {
  transform: rotate(-180deg);
  filter: brightness(0) saturate(100%) invert(50%) sepia(98%) saturate(1393%) hue-rotate(343deg) brightness(101%) contrast(101%);
}

/* === Nested Menu === */
.nestedMenu {
  margin-left: 16px;
  margin-top: 4px;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.nestedItem {
  font-size: 11px;
  font-weight: 500;
  color: #9E9E9E;
  padding: 8px 12px;
  cursor: pointer;
  transition: color 0.2s, background 0.2s;
  border-radius: 6px;
  min-height: 34px;
  display: flex;
  align-items: center;
}

.nestedItem:hover {
  color: var(--color-primary);
  background: rgba(255, 107, 53, 0.05);
}

.nestedItem.active {
  color: var(--color-primary);
  background: rgba(255, 107, 53, 0.1);
  font-weight: 600;
}

/* === Separator === */
.separator {
  width: 100%;
  height: 1px;
  position: relative;
  margin: 10px 0;
}

.separator::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: #E8E8E8;
}

.separator::after {
  content: '';
  position: absolute;
  top: -1px;
  left: 0;
  right: 0;
  height: 1px;
  background: #FFFFFF;
  opacity: 0.5;
}

/* === Responsive === */
@media (max-width: 480px) {
  /* 모바일에서 이미 전체화면이므로 추가 조정 불필요 */
}

/* ================================
   Dark Mode (Orange Whale Studio)
   ================================ */
.darkMode {
  background: rgba(0, 0, 0, 0.75);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.15);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

.darkMode .hamburgerBtn {
  color: rgba(255, 255, 255, 0.9);
}

.darkMode .hamburgerBtn:hover {
  background: rgba(255, 255, 255, 0.15);
}

.darkMode .hamburgerBtn:active {
  background: rgba(255, 255, 255, 0.25);
}

.darkMode .menuIcon {
  filter: brightness(0) invert(1);
}

.darkMode .logo {
  filter: brightness(0) invert(1);
}

.darkMode .notificationBell {
  color: rgba(255, 255, 255, 0.85);
}

.darkMode .notificationBell:hover {
  background: rgba(255, 255, 255, 0.15);
}

.darkMode .notificationBadge {
  background: var(--color-primary);
  box-shadow: 0 0 8px rgba(255, 107, 53, 0.5);
}
